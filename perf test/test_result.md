# 线程池性能测试报告

## 1. 对照线程池
**simple_threadpool**：GitHub开源的基础标准线程池实现（[源码地址](https://github.com/progschj/ThreadPool.git)）

## 2. 测试任务类型
测试包含三种不同计算密度的任务：

```cpp
unsigned int k;//使用全局变量防止循环被优化

// 高计算密度任务
void A() {
   for (int i = 0; i < 10000; i++)
      k = k * 2 + i; // 约10,000次运算
}

// 中等计算密度任务
void B() {
   for (int i = 0; i < 100; i++)
      k2 = k2 * 2 + i; // 约100次运算
}

// 空任务（极端轻量级）
void C() {

}
```

## 3. 测试结果（吞吐量：百万任务/秒）

| 线程池类型               | 线程数 | 任务A (M/s) | 任务B (M/s) | 任务C (M/s) |
|--------------------------|--------|-------------|-------------|-------------|
| **simple_threadpool**    | 1      | 0.36        | 2.36        | 1.75        |
|                          | 4      | 1.10        | 0.95        | 0.93        |
|                          | 8      | 0.65        | 0.62        | 0.61        |
| **HSLL::ThreadPool**     | 1      | 0.36        | 5.14        | 14.24       |
|                          | 4      | 1.44        | 3.15        | 3.05        |
|                          | 8      | 2.30        | 1.80        | 1.94        |
| **HSLL::ThreadPool(32批处理)** | 1      | 0.40        | 14.75       | 23.54       |
|                          | 4      | 1.53        | 4.32        | 5.87        |
|                          | 8      | 2.63        | 2.85        | 3.62        |


## 4. 测试环境
| 组件         | 配置详情                     |
|--------------|------------------------------|
| 编译器       | MSVC v143 x64                |
| 优化选项     | /O2 最大优化                 |
| 处理器       | Intel i7-11800H (8C/16T)     |
| 基础频率     | 2.3 GHz                      |
| 操作系统     | Windows 10/11 x64            |